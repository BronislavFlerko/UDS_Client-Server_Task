## Тестовое задание: Удалённое управление мультиметром.
#### Задание выполнил Бронислав Флерко.

## Описание:
Данный проект представляет собой реализацию сервера и клиента для имитации удалённого управления многоканальным мультиметром. Сервер управляет аппаратными средствами прибора, а клиент предоставляет интерфейс для взаимодействия с сервером. Взаимодействие между клиентом и сервером осуществляется с помощью сокетов Unix Domain.

## Архитектура
- **Операционная система**: Linux  Ubuntu
- **Сервер и клиент**: консольные приложения на C++, реализующие управление мультиметром.

## Команды управления
### Обязательные для задания:

- `start_measure channel` - запуск измерения.
- `set_range channel, range` - настройка диапазона, работает только в idle_state.


- `stop_measure channel` - остановка имзерения, при error/busy_state возвращает fail.


- `get_status channel` - получить статус канала, возвращает любое состояние.


- `get_result channel` - получить результат имзерения (float), возвращает "ok, N" только при measure_state.

### Дополнительные:
- `diagnostic channel` - для устранения "error_state" состояния канала руками пользователя. Состояние возникает в случайный момент времени.
- `exit` - для выхода из клиентского приложения и разрыва соединения с сервером.

## Формат работы:  
  
Текстовый протокол. Запрос и ответ - строка заказчивающаяся на CR
  
Формат команд: "command-name channelN, rangeM\r" или "command-name channelN\r"

Формат ответа: "ok|fail, result1, result2, ... resultN\r"

Например:

запрос: "set_range channel0, range0".

ответ: "ok, range0".

Канал задаётся в виде строки channel[целое число от 0 до N-1], например, "channel0", "channel1", "channel7". Диапазон канала измерения - строка вида range[целое число от 0 до M-1], где M равно 4. Например, "range0/1/2/3". Сервер возвращает значение канала только в диапазоне данного канала. Параметры для канала: range0: соответствует диапазону [0.0000001 ... 0.001) В, range1: [0.001 ... 1) В, range2: [1 ... 1000) В, range3: [1000 ... 1000000) В.

Тип результата - текущее значение напряжения канала - float. Каналы работают независимо, возможно запускать и останавливать работу отдельного канала и получать статус.

## Сборка проекта

### Требования

- **Язык программирования**: C++17
- **Компилятор**: g++ (из коллекции GCC)
- **Операционная система**: Linux (предпочтительно Ubuntu согласно заданию)

### Инструкции по компиляции

Количество каналов задаётся на этапе компиляции через препроцессорное определение/флаг -DMULTIMETER_CHANNELS=N, объявленное в Cmake файле. По умолчанию N=2.

Компиляция сервера и клиента разделяется через дерективу `#ifdef SERVER` внутри одной функции main.


Для компиляции проекта используйте следующие команды:

#### Для сервера:

```bash
g++ main.cpp server.cpp multimeter.cpp client.cpp -o UDS_Server -std=c++17 -DSERVER -DMULTIMETER_CHANNELS=2 -pthread
```

- Обязательно укажите флаг компиляции -DSERVER

#### Для клиента:
```bash
g++ main.cpp server.cpp multimeter.cpp client.cpp -o UDS_Client -std=c++17 -DMULTIMETER_CHANNELS=2 -pthread
```

- Между сервером и клиентом флаг -DMULTIMETER_CHANNELS=N должен быть равен сам себе.
